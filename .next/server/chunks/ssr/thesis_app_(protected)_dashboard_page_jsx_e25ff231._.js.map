{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/ALDEGS09/thesis/app/%28protected%29/dashboard/page.jsx"],"sourcesContent":["\"use client\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { supabase } from \"../../../lib/supabaseClient\"\r\nimport {\r\n  LineChart,\r\n  Line,\r\n  XAxis,\r\n  YAxis,\r\n  Tooltip,\r\n  CartesianGrid,\r\n  ResponsiveContainer,\r\n  PieChart,\r\n  Pie,\r\n  Cell,\r\n  Legend,\r\n} from \"recharts\"\r\nimport Papa from \"papaparse\"\r\nimport * as XLSX from \"xlsx\"\r\n\r\nexport default function DashboardPage() {\r\n  const [session, setSession] = useState(null)\r\n  const [budgetData, setBudgetData] = useState([])\r\n  const [breakdownData, setBreakdownData] = useState({})\r\n  const [loading, setLoading] = useState(true)\r\n  const [uploading, setUploading] = useState(false)\r\n  const [selectedYear, setSelectedYear] = useState(null)\r\n\r\n  // === Watch for Auth Session ===\r\n  useEffect(() => {\r\n    supabase.auth.getSession().then(({ data: { session } }) => {\r\n      setSession(session)\r\n      if (session) {\r\n        fetchBudgetData()\r\n        fetchBreakdownData()\r\n      }\r\n    })\r\n\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, session) => {\r\n      setSession(session)\r\n      if (session) {\r\n        fetchBudgetData()\r\n        fetchBreakdownData()\r\n      }\r\n    })\r\n\r\n    return () => {\r\n      listener.subscription.unsubscribe()\r\n    }\r\n  }, [])\r\n\r\n  // === Fetch Yearly Total Income ===\r\n  async function fetchBudgetData() {\r\n    setLoading(true)\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"yearly_budget\")\r\n        .select(\"year,total_income\")\r\n        .order(\"year\", { ascending: true })\r\n\r\n      if (error) throw error\r\n\r\n      setBudgetData(\r\n        (data || []).map(d => ({\r\n          year: Number(d.year),\r\n          totalIncome: Number(d.total_income) || 0,\r\n        }))\r\n      )\r\n    } catch (err) {\r\n      console.error(\"âŒ Error fetching yearly_budget:\", err.message)\r\n    } finally {\r\n      setLoading(false)\r\n    }\r\n  }\r\n\r\n // === Fetch Breakdown (Income vs Appropriations, grouped per year) ===\r\nasync function fetchBreakdownData() {\r\n  try {\r\n    console.log(\"ðŸ” Fetching barangay_budget_breakdownâ€¦\")\r\n\r\n    const { data, error } = await supabase\r\n      .from(\"barangay_budget_breakdown\")\r\n      .select(\"year, category, subcategory, description, amount\")\r\n      .order(\"year\", { ascending: true })\r\n\r\n    if (error) throw error\r\n    if (!data?.length) {\r\n      console.warn(\"âš ï¸ No breakdown data found.\")\r\n      return\r\n    }\r\n\r\n    console.log(\"âœ… Data fetched:\", data.length, \"rows\")\r\n\r\n    // ðŸ”¹ Group per year (make sure year is treated as number)\r\n    const grouped = {}\r\n\r\n    data.forEach(row => {\r\n      const year = Number(row.year)\r\n      if (isNaN(year)) return\r\n\r\n      if (!grouped[year]) {\r\n        grouped[year] = { income: {}, appropriations: {} }\r\n      }\r\n\r\n      const cleanAmount =\r\n        Number(String(row.amount).replace(/[,â‚±p\\s]/gi, \"\")) || 0\r\n\r\n      // ðŸ”¹ Determine which group (Income or Appropriations)\r\n      const cat =\r\n        row.category?.toLowerCase().includes(\"income\")\r\n          ? \"income\"\r\n          : \"appropriations\"\r\n\r\n      // ðŸ”¹ Label (subcategory > description)\r\n      const label =\r\n        row.subcategory?.trim() ||\r\n        row.description?.trim() ||\r\n        \"Uncategorized\"\r\n\r\n      grouped[year][cat][label] =\r\n        (grouped[year][cat][label] || 0) + cleanAmount\r\n    })\r\n\r\n    console.log(\"ðŸ“Š Grouped Data Preview:\", grouped)\r\n    setBreakdownData(grouped)\r\n  } catch (err) {\r\n    console.error(\"âŒ Breakdown fetch error:\", err.message)\r\n  }\r\n}\r\n\r\n\r\n\r\n  // === File Upload for yearly_budget ===\r\n  async function handleFileUpload(event) {\r\n    const file = event.target.files[0]\r\n    if (!file) return\r\n    setUploading(true)\r\n    try {\r\n      const fileName = file.name.toLowerCase()\r\n      let rows = []\r\n\r\n      if (fileName.endsWith(\".csv\")) {\r\n        const text = await file.text()\r\n        const parsed = Papa.parse(text, { header: true, skipEmptyLines: true })\r\n        rows = parsed.data\r\n      } else if (fileName.endsWith(\".xlsx\") || fileName.endsWith(\".xls\")) {\r\n        const data = await file.arrayBuffer()\r\n        const workbook = XLSX.read(data, { type: \"array\" })\r\n        const sheet = workbook.Sheets[workbook.SheetNames[0]]\r\n        rows = XLSX.utils.sheet_to_json(sheet)\r\n      } else {\r\n        alert(\"Please upload a CSV or Excel file (.xlsx/.xls).\")\r\n        return\r\n      }\r\n\r\n      const headers = Object.keys(rows[0] || {}).map(h => h.trim().toLowerCase())\r\n      const yearHeader = headers.find(h => h.includes(\"year\")) || \"year\"\r\n      const incomeHeader = headers.find(h => h.includes(\"income\")) || \"total_income\"\r\n\r\n      for (const row of rows) {\r\n        const year = Number(String(row[yearHeader]).trim())\r\n        const incomeStr = String(row[incomeHeader])\r\n          .replace(/[â‚±pP\\s]/g, \"\")\r\n          .replace(/,/g, \"\")\r\n          .replace(/[^\\d.-]/g, \"\")\r\n          .trim()\r\n        const total_income = parseFloat(incomeStr) || 0\r\n\r\n        if (!year || isNaN(year) || total_income <= 0) continue\r\n\r\n        await supabase\r\n          .from(\"yearly_budget\")\r\n          .upsert({ year, total_income }, { onConflict: [\"year\"] })\r\n      }\r\n\r\n      fetchBudgetData()\r\n      alert(\"âœ… Data uploaded successfully.\")\r\n    } catch (err) {\r\n      console.error(\"âŒ Upload error:\", err.message)\r\n      alert(\"Error uploading file.\")\r\n    } finally {\r\n      setUploading(false)\r\n      event.target.value = null\r\n    }\r\n  }\r\n\r\n  // === UI ===\r\n  if (!session)\r\n    return (\r\n      <div className=\"p-10 text-center\">\r\n        <h2 className=\"text-xl font-semibold text-gray-700\">Please log in first</h2>\r\n      </div>\r\n    )\r\n\r\n  if (loading) return <p className=\"p-6\">Loading budget data...</p>\r\n\r\n  const total = budgetData.reduce((sum, d) => sum + d.totalIncome, 0)\r\n  const avg = budgetData.length ? total / budgetData.length : 0\r\n  const max = Math.max(...budgetData.map(d => d.totalIncome), 0)\r\n  const min = Math.min(...budgetData.map(d => d.totalIncome), 0)\r\n  const currency = val =>\r\n    new Intl.NumberFormat(\"en-PH\", { style: \"currency\", currency: \"PHP\" }).format(val)\r\n\r\n  const selectedData = breakdownData[selectedYear] || {}\r\n  const COLORS = [\"#4F46E5\", \"#10B981\", \"#F59E0B\", \"#EF4444\", \"#3B82F6\", \"#8B5CF6\", \"#14B8A6\"]\r\n  const toPieData = obj => Object.entries(obj || {}).map(([name, value]) => ({ name, value }))\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-8\">\r\n      <h2 className=\"text-2xl font-semibold\">Barangay Budget Dashboard</h2>\r\n      <p className=\"text-sm text-gray-500 mb-4\">Visual overview of total income (2015â€“2022)</p>\r\n\r\n      <div className=\"mb-4\">\r\n        <label className=\"inline-block bg-blue-600 text-white px-4 py-2 rounded-lg cursor-pointer hover:bg-blue-700\">\r\n          {uploading ? \"Uploading...\" : \"Upload CSV or Excel (Year and Total Income)\"}\r\n          <input type=\"file\" accept=\".csv, .xlsx, .xls\" className=\"hidden\" onChange={handleFileUpload} />\r\n        </label>\r\n      </div>\r\n\r\n      {/* Summary Cards */}\r\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4\">\r\n        <Card label=\"Total Income\" value={currency(total)} color=\"indigo\" />\r\n        <Card label=\"Average Income\" value={currency(avg)} color=\"green\" />\r\n        <Card label=\"Highest Income\" value={currency(max)} color=\"yellow\" />\r\n        <Card label=\"Lowest Income\" value={currency(min)} color=\"red\" />\r\n      </div>\r\n\r\n      {/* Chart */}\r\n      <div className=\"bg-white shadow rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold mb-2\">Yearly Income Trend</h3>\r\n        <ResponsiveContainer width=\"100%\" height={350}>\r\n          <LineChart\r\n            data={budgetData}\r\n            onClick={e => e?.activeLabel && setSelectedYear(e.activeLabel)}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#E5E7EB\" />\r\n            <XAxis dataKey=\"year\" />\r\n            <YAxis tickFormatter={val => `${(val / 1_000_000).toFixed(1)}M`} />\r\n            <Tooltip formatter={v => currency(v)} labelFormatter={y => `Year: ${y}`} />\r\n            <Line dataKey=\"totalIncome\" stroke=\"#4F46E5\" strokeWidth={3} dot={{ r: 5 }} />\r\n          </LineChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n\r\n      {/* Breakdown */}\r\n      <div className=\"bg-white shadow rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold mb-2\">\r\n          {selectedYear ? `Budget Breakdown (${selectedYear})` : \"Select a Year for Details\"}\r\n        </h3>\r\n        {!selectedYear && <p className=\"text-gray-500\">Click a year to view breakdown.</p>}\r\n\r\n        {selectedYear && (\r\n          <div className=\"flex flex-col lg:flex-row gap-8 justify-center mt-6\">\r\n            <PieSection title=\"Income Breakdown\" data={selectedData.income} colors={COLORS} currency={currency} />\r\n            <PieSection title=\"Appropriations Breakdown\" data={selectedData.appropriations} colors={COLORS} currency={currency} />\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\n// === Helper Components ===\r\nfunction Card({ label, value, color }) {\r\n  const colors = {\r\n    indigo: \"bg-indigo-50 text-indigo-700\",\r\n    green: \"bg-green-50 text-green-700\",\r\n    yellow: \"bg-yellow-50 text-yellow-700\",\r\n    red: \"bg-red-50 text-red-700\",\r\n  }\r\n  return (\r\n    <div className={`p-4 rounded-lg text-center ${colors[color]}`}>\r\n      <p className=\"text-sm text-gray-600\">{label}</p>\r\n      <p className=\"text-lg font-semibold\">{value}</p>\r\n    </div>\r\n  )\r\n}\r\nexport function PieSection({ title, data, colors, currency }) {\r\n  const formatted = Object.entries(data || {}).map(([name, value]) => ({ name, value }))\r\n  const total = formatted.reduce((sum, d) => sum + d.value, 0)\r\n\r\n  const renderCustomLabel = (props) => {\r\n    const { cx, cy, midAngle, outerRadius, percent, index } = props\r\n    if (!formatted[index]) return null // ðŸ§© safety check\r\n\r\n    const RADIAN = Math.PI / 180\r\n    const radius = outerRadius * 1.35\r\n    const x = cx + radius * Math.cos(-midAngle * RADIAN)\r\n    const y = cy + radius * Math.sin(-midAngle * RADIAN)\r\n    const percentText = (percent * 100).toFixed(2)\r\n    const color = colors[index % colors.length]\r\n    const name = formatted[index]?.name || \"Unknown\"\r\n\r\n    return (\r\n      <text\r\n        x={x}\r\n        y={y}\r\n        fill={color}\r\n        textAnchor={x > cx ? \"start\" : \"end\"}\r\n        dominantBaseline=\"central\"\r\n        fontSize={12}\r\n        fontWeight=\"500\"\r\n      >\r\n        {name}: {percentText}%\r\n      </text>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full lg:w-1/2\">\r\n      <p className=\"font-semibold text-gray-700 mb-2 text-center\">{title}</p>\r\n      <ResponsiveContainer width=\"100%\" height={360}>\r\n        <PieChart>\r\n          <Pie\r\n            data={formatted}\r\n            dataKey=\"value\"\r\n            nameKey=\"name\"\r\n            cx=\"50%\"\r\n            cy=\"50%\"\r\n            outerRadius={110}\r\n            labelLine={{ stroke: \"#8884d8\", strokeWidth: 1, cursor: \"pointer\" }}\r\n            label={renderCustomLabel}\r\n          >\r\n            {formatted.map((entry, index) => (\r\n              <Cell\r\n                key={`cell-${index}`}\r\n                fill={colors[index % colors.length]}\r\n                cursor=\"pointer\"\r\n              />\r\n            ))}\r\n          </Pie>\r\n          <Tooltip formatter={v => currency(v)} />\r\n        </PieChart>\r\n      </ResponsiveContainer>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\n"],"names":[],"mappings":"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","debugId":null}}]
}